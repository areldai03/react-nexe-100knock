# React & Next.js

ReactとNext.jsを学ぶための100本ノック。

---

## 基礎編： まずはここから始めよう

Webサイトの部品を作るためのReactの基本と、ページを組み立てるNext.jsの基礎を学びます。

### 第1章: Reactの基礎とコンポーネント (1-15)

- [ ] 1. `<h1>Hello, Next.js!</h1>` と表示するだけのページを作成する。
- [ ] 2. `WelcomeMessage` という名前の関数コンポーネントを作成し、ページに表示する。
- [ ] 3. `WelcomeMessage` コンポーネントに `name` というpropsを渡し、「Welcome, (name)さん!」と表示する。
- [ ] 4. `Profile` コンポーネントを作成し、`name` (文字列)と `age` (数値) のpropsを渡して表示する。
- [ ] 5. ボタンを表示するだけの `Button` コンポーネントを作成し、`props.children` を使ってボタンのテキストを外から渡せるようにする。
- [ ] 6. `items` という名前の文字列の配列をpropsで受け取り、`<ul>` と `<li>` タグを使ってリスト表示する `ItemList` コンポーネントを作成する。
- [ ] 7. No.6の `ItemList` コンポーネントで、`map` の `key` に `index` ではなく、各アイテムにユニークな `id` を持たせてそれを指定する。
- [ ] 8. クリックするとコンソールに「Clicked!」と表示されるボタンを設置する。
- [ ] 9. `Card` コンポーネントを作成する。外側を `div` で囲い、中に `<h2>` (タイトル)と `<p>` (内容) をpropsで受け取って表示する。
- [ ] 10. `Header`, `Main`, `Footer` の3つのコンポーネントを作成し、`app/layout.tsx` でそれらを組み合わせて基本的なページレイアウトを作成する。
- [ ] 11. `isVisible` というbooleanのpropsを受け取り、`true` の場合のみ「表示されています」というテキストを表示するコンポーネントを作成する。(三項演算子を使用)
- [ ] 12. No.11のコンポーネントを、論理積演算子(`&&`)を使って書き換える。
- [ ] 13. `User` オブジェクト (`{ name: string, email: string }`) をpropsとして受け取り、ユーザー情報を表示する `UserCard` コンポーネントを作成する。
- [ ] 14. コンポーネントのpropsに型を定義するため、TypeScriptの `interface` または `type` を使用する。
- [ ] 15. イベントハンドラに引数を渡す。ボタンクリックで、特定のID ('user-123') をコンソールに出力する。

### 第2章: Reactフック (16-30)

- [ ] 16. `useState` を使って、ボタンをクリックすると数字が1ずつ増えるカウンターを作成する。
- [ ] 17. `useState` を使って、入力フィールド (`<input type="text">`) の値を管理し、入力に合わせて画面に表示する。
- [ ] 18. `useState` を使って、チェックボックスのON/OFF状態（boolean）を管理する。
- [ ] 19. `useState` を使って、ボタンをクリックすると表示/非表示が切り替わるトグル機能を作成する。
- [ ] 20. `useState` でオブジェクトの状態を管理する。入力フォームで `name` と `email` を更新できるようにする。
- [ ] 21. `useEffect` を使い、コンポーネントが最初にマウントされた時に一度だけ「Component mounted」とコンソールに出力する。
- [ ] 22. `useEffect` を使い、No.16のカウンターの値が変わるたびに、その値をコンソールに出力する。
- [ ] 23. `useEffect` のクリーンアップ関数を使い、コンポーネントがアンマウントされる時に「Component unmounted」とコンソールに出力する。
- [ ] 24. `useRef` を使って、input要素への参照を保持し、ボタンクリックでそのinputにフォーカスを当てる。
- [ ] 25. `useContext` を使って、テーマ（例：'light' or 'dark'）を子孫コンポーネントにpropsドリルなしで渡す。
- [ ] 26. `useReducer` を使って、No.16のカウンターを書き換える（action は increment と decrement）。
- [ ] 27. `useCallback` を使って、子コンポーネントに渡す関数をメモ化する。
- [ ] 28. `useMemo` を使って、重い計算処理の結果をメモ化する。
- [ ] 29. `useToggle` という、true/falseを切り替えるカスタムフックを作成する。
- [ ] 30. `useState` と `useEffect` を使い、クライアントサイドで外部API (https://jsonplaceholder.typicode.com/todos/1) からデータを取得し表示する（CSR）。

### 第3章: Next.js (App Router) の基本 (31-45)

- [ ] 31. `app/about/page.tsx` を作成し、`/about` というURLでアクセスできるようにする。
- [ ] 32. `app/posts/first/page.tsx` のように、ネストしたルーティングを作成する。
- [ ] 33. `next/link` コンポーネントを使って、トップページとAboutページ間をクライアントサイドで遷移できるようにする。
- [ ] 34. `app/users/[id]/page.tsx` のような動的ルートを作成し、`/users/1` でアクセスできるようにする。
- [ ] 35. `useRouter` フックを使って、ボタンクリックでプログラム的にページ遷移させる。
- [ ] 36. 動的ルートのコンポーネントで、`params` props を使って `[id]` の値を取得し表示する。
- [ ] 37. `useSearchParams` フックを使って、URLのクエリパラメータ (`?key=value`) を取得し表示する。
- [ ] 38. `app/layout.tsx` の役割を理解し、全ページ共通のHTML構造を定義する。
- [ ] 39. `app/template.tsx` を作成し、`layout.tsx` との違い（再レンダリングの挙動）を確認する。
- [ ] 40. `loading.tsx` を作成し、ページ遷移時に自動的に表示されるローディングUIを実装する。
- [ ] 41. `error.tsx` を作成し、ページ内でエラーが発生した際のフォールバックUIを実装する。
- [ ] 42. `not-found.tsx` を作成し、存在しないURLにアクセスした際の404ページをカスタマイズする。
- [ ] 43. `next/image` コンポーネントを使って、ローカルにある画像を表示し、自動的に最適化されることを確認する。
- [ ] 44. `next/image` コンポーネントで、外部URLの画像を表示する（`next.config.js` の設定が必要）。
- [ ] 45. `next/script` コンポーネントを使って、外部のJSライブラリを安全に読み込む。

---

## 応用編： より実践的な開発へ

モダンな開発に必須のツールやテクニックを学び、アプリケーションの品質を高めます。

### 第4章: TypeScriptの実践 (46-55)

- [ ] 46. `useState` に明示的に型を定義する（例: `useState<string | null>(null)`）。
- [ ] 47. `ChangeEvent` (input) と `MouseEvent` (button) のイベントハンドラに型を定義する。
- [ ] 48. APIから取得するデータ（例: ユーザー情報）の `interface` または `type` を定義し、fetch結果に適用する。
- [ ] 49. `children` を受け取るコンポーネントのpropsの型として `React.FC` または `React.PropsWithChildren` を使う。
- [ ] 50. `enum` を使って、特定の状態（例: `'loading'`, `'success'`, `'error'`）を管理する。
- [ ] 51. TypeScriptのUtility Type (`Pick`, `Omit`, `Partial`) を使って、既存の型から新しい型を作成する。
- [ ] 52. ジェネリクス (`<T>`) を使い、様々なデータ型に対応できる汎用的なコンポーネントを作成する。
- [ ] 53. `as` キーワードによる型アサーションと、`is` を使った型ガード関数の違いを理解し、使い分ける。
- [ ] 54. Zodなどのスキーマバリデーションライブラリを導入し、APIレスポンスやフォームの値を検証する。
- [ ] 55. コンポーネントのPropsの型定義を別ファイルに切り出し、`export`/`import` する。

### 第5章: 開発環境の整備 (56-60)

- [ ] 56. ESLint と Prettier を導入し、`package.json` の `script` でコードチェックとフォーマットを実行できるようにする。
- [ ] 57. VSCodeの拡張機能（ESLint, Prettier）を導入し、ファイルを保存した際に自動でフォーマットがかかるように設定する。
- [ ] 58. Husky を導入して、Gitのフック（例: pre-commit）を簡単に管理できるようにする。
- [ ] 59. lint-staged を導入し、コミット対象のファイルにのみ `eslint --fix` と `prettier --write` が実行されるように設定する。
- [ ] 60. commitlint を導入し、コミットメッセージが規約（例: `feat: 新機能`）に従っているかをチェックする仕組みを設ける。

### 第6章: データフェッチとサーバーコンポーネント (61-70)

- [ ] 61. サーバーコンポーネント内で `fetch` を使い、ビルド時にデータを取得して静的にページを生成する (SSG)。
- [ ] 62. `fetch` の `cache` オプションを `'no-store'` に設定し、リクエストごとにデータを再取得する動的なページを作成する (SSR)。
- [ ] 63. `fetch` の `next: { revalidate: 60 }` オプションを使い、一定時間ごとにデータを再検証するページを作成する (ISR)。
- [ ] 64. `generateStaticParams` を使い、動的ルートのページ群（例: ブログ記事）をビルド時にまとめて静的生成する。
- [ ] 65. `app/api/route.ts` を作成し、GET リクエストに対してJSONを返すAPIエンドポイントを作成する (Route Handler)。
- [ ] 66. Route Handlerで POST リクエストを受け取り、`req.json()` でボディの内容を取得する。
- [ ] 67. Route Handlerで動的ルート (`/api/users/[id]`) を作成し、`params` からIDを取得する。
- [ ] 68. サーバーコンポーネントとクライアントコンポーネントを組み合わせ、サーバーで取得したデータをクライアントでインタラクティブに表示する。
- [ ] 69. サーバーアクションを使い、クライアントからのフォーム送信をサーバーで直接処理する。
- [ ] 70. `revalidatePath` や `revalidateTag` を使い、データ更新後に特定のページのキャッシュを破棄（再検証）させる。

### 第7章: SEOとメタデータ (71-75)

- [ ] 71. `app/layout.tsx` の `metadata` オブジェクトを使い、サイト全体の基本タイトルと説明を設定する。
- [ ] 72. 静的なページで `metadata` をエクスポートし、ページ固有のタイトルと説明を設定する。
- [ ] 73. 動的なページで `generateMetadata` 関数を使い、コンテンツに応じた動的なタイトルと説明を生成する。
- [ ] 74. `metadata` オブジェクトの `openGraph` プロパティを使い、SNSでシェアされた際のOGP（画像、タイトルなど）を設定する。
- [ ] 75. next-sitemap などのライブラリを使い、`sitemap.xml` をビルド時に自動生成するように設定する。

---

## 発展編： アプリケーションを完成させる

本番公開できるレベルのアプリケーションを構築します。

### 第8章: 小規模アプリケーション開発 (76-85)

- [ ] 76. 【Todoアプリ①】`useState` で状態を管理し、追加/削除/完了を実装（永続化なし）。
- [ ] 77. 【Todoアプリ②】`useReducer` を使って、より複雑な状態管理に書き換える。
- [ ] 78. 【Todoアプリ③】`localStorage` を使って状態を永続化するカスタムフックを作成する。
- [ ] 79. 【静的ブログ①】Markdownファイルを `posts` ディレクトリに配置し、ファイル名から記事一覧を生成する。
- [ ] 80. 【静的ブログ②】gray-matter と remark を使い、Markdownの本文とメタデータ（タイトル、日付）をパースして表示する。
- [ ] 81. 【静的ブログ③】動的ルートを使い、記事詳細ページを生成する。
- [ ] 82. 【外部API利用アプリ①】好きな公開API（例: ポケモンAPI）を使い、検索結果を一覧表示する。
- [ ] 83. 【外部API利用アプリ②】検索機能と、簡単なページネーション機能を追加する。
- [ ] 84. 状態管理ライブラリ Zustand または Jotai を導入し、複数のコンポーネントで共有するグローバル状態を管理する。
- [ ] 85. React Hook Form を使い、バリデーション付きの問い合わせフォームを作成する。

### 第9章: 認証 (86-90)

- [ ] 86. NextAuth.js を導入し、GitHubプロバイダーまたはGoogleプロバイダーを使ったソーシャルログインを設定する。
- [ ] 87. ヘッダーにログイン/ログアウトボタンを設置し、`useSession` フックで取得した認証状態に応じてUIを切り替える。
- [ ] 88. ログインしているユーザーのみがアクセスできる保護されたページを作成する（ミドルウェアを使用）。
- [ ] 89. サーバーコンポーネント内でセッション情報を取得し、「こんにちは、〇〇さん」のようにユーザー情報を表示する。
- [ ] 90. NextAuth.js のコールバックをカスタマイズし、セッションオブジェクトやJWTに独自の情報を追加する。

### 第10章: テスト (91-95)

- [ ] 91. Jest と React Testing Library をセットアップする。
- [ ] 92. 単純なコンポーネント（例: `Button`）が正しくレンダリングされるかテストする。
- [ ] 93. `userEvent` を使い、ボタンクリックなどのユーザーインタラクションをシミュレートするテストを書く。
- [ ] 94. `mock` を使い、API fetch をモック化してデータ表示コンポーネントをテストする。
- [ ] 95. Storybook を導入し、コンポーネントのカタログを作成してUIを視覚的に確認できるようにする。

### 第11章: デプロイと監視 (96-100)

- [ ] 96. Vercelにプロジェクトをデプロイし、公開する。
- [ ] 97. GitHub Actionsのワークフローを最適化し、`main` ブランチへのマージで本番環境、`develop` ブランチへのpushでプレビュー環境へ自動デプロイされるようにする (CI/CD)。
- [ ] 98. Vercelの管理画面からVercel Analyticsを有効にし、サイトのアクセス数やパフォーマンス指標を確認する。
- [ ] 99. Sentryを導入し、Next.jsアプリケーションで発生したエラーが自動でSentryに送信されるように設定する。
- [ ] 100. ChromeのLighthouseを使い、デプロイしたサイトのパフォーマンス、アクセシビリティ、SEOのスコアを計測し、改善点を見つける。
